(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e174a"],{"7b09":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{attrs:{id:"ytPlayer1"}}),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"document"},on:{click:e.test}},[e._v("\n    test 4\n  ")])],1)},o=[],a=(n("c5f6"),n("7cdf"),n("5e15")),i=n("d225"),s=n("b0b4"),l=n("d360"),d=(n("77a7"),n("daf9")),c={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};n("a481"),n("3b2b"),n("28a5");function u(e){try{var t=1,n="1"===e.a;if(!e.v)throw console.error("Parameter v missing"),"Parameter v missing";var r=[];return e.v.split("~").map(function(e,t){var n=t+1,o=e.split("."),a=o[0];if(!a){if(!(t>0))throw console.error("First videoId is empty"),"First videoId is empty";a=r[t-1].videoId}var i=o[1]?Number(o[1]):0,s=o[2]?Number(o[2]):null;if(Number.isInteger(i)&&Number.isInteger(s)&&s<=i)throw console.error("endSeconds must be more startSeconds"),"endSeconds must be more startSeconds";var l=o[3]?o[3]:"Video "+n;r.push({id:n,videoId:a,startSeconds:i,endSeconds:s,title:l})}),{rate:t,autoPlay:n,videos:r}}catch(o){throw console.error("queryToVideo error:"+o),o}}var y,h,v,p,b,f,I;var m=(I=function(){function e(){var t=this;Object(i["a"])(this,e),this.playList=null,this.rate=1,this.autoPlay=null,this.player=null,this.currentIndex=0,this.playerState=null,this.timer=null,this.interval=null,this.endSeconds=null,Object(a["a"])(this,"videos",h,this),Object(a["a"])(this,"videoId",v,this),Object(a["a"])(this,"selectedVideo",p,this),Object(a["a"])(this,"playVideoByIndex",b,this),this.clearCheckInterval=function(){clearInterval(t.interval),t.interval=null},this.runCheckInterval=function(){t.interval||(t.interval=setInterval(t.checkEndSeconds,250))},this.checkEndSeconds=function(){Number.isInteger(t.endSeconds)&&t.player.getCurrentTime()-1>=t.endSeconds&&(console.log(t.player.getCurrentTime()),t.endSeconds=null,t.clearCheckInterval(),t.playNextVideo())},Object(a["a"])(this,"setQueryParams",f,this),this.onStateChange=function(e){switch(t.playerState=e.data,t.playerState){case c.ENDED:t.playNextVideo();break;case c.PAUSED:t.clearCheckInterval();break;case c.PLAYING:t.runCheckInterval();break;default:}},this.onReady=function(e){t.player=e.target,t.videos&&t.playVideoByIndex(0)},this.onError=function(e){console.error(e)},this.playVideo=function(){t.player.playVideo()},this.pauseVideo=function(){t.player.pauseVideo()}}return Object(s["a"])(e,[{key:"test",value:function(){return"test!"}},{key:"playNextVideo",value:function(){var e=this.videos.length;this.currentIndex===e-1?this.autoPlay&&this.playVideoByIndex(0):(this.currentIndex++,this.playVideoByIndex(this.currentIndex))}}]),Object(s["a"])(e,[{key:"getPlayerConfig",value:function(){var e={width:640,height:480,host:"https://www.youtube.com",playerVars:{autoplay:this.autoPlay,controls:1},events:{onStateChange:this.onStateChange,onError:this.onError,onReady:this.onReady}};return this.videoId,e}}]),e}(),y=I,h=Object(l["a"])(y.prototype,"videos",[d["d"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Object(l["a"])(y.prototype,"videoId",[d["d"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=Object(l["a"])(y.prototype,"selectedVideo",[d["d"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=Object(l["a"])(y.prototype,"playVideoByIndex",[d["b"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t<=e.videos.length-1?e.videos[t]:null;if(e.selectedVideo){if(n){if(n.videoId===e.videoId)switch(e.playerState){case c.CUED:console.log("CUED"),n.endSeconds&&(e.endSeconds=n.endSeconds),e.player.loadVideoById(n);break;case c.PLAYING:console.log("PLAYING"),n.endSeconds&&(e.endSeconds=n.endSeconds),e.runCheckInterval(),e.player.seekTo(n.startSeconds);break;default:n.endSeconds&&(e.endSeconds=n.endSeconds),e.player.playVideo(),e.player.seekTo(n.startSeconds),e.runCheckInterval()}else console.error("Загрузить другое видео... ");e.currentIndex=t,e.selectedVideo=n}}else e.autoPlay?e.player.loadVideoById(n):e.player.cueVideoById(n),e.selectedVideo=n,e.videoId=n.videoId}}}),f=Object(l["a"])(y.prototype,"setQueryParams",[d["b"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){console.log("val",t);var n=u(t);e.playList=n,e.rate=n.rate?n.rate:1,e.autoPlay=n.autoPlay;var r=n.videos;r&&r.length>0&&(e.videos=r,e.player&&e.playVideoByIndex(0))}}}),y),S=n("3172"),g=n("72bf"),w=null,P=Object(S["a"])({data:function(){return{query:g.parse("a=1&v=E5i4rDc_GA8.0.91~E5i4rDc_GA8.147.281"),videoStore:new m}},methods:{test:function(){return console.log(this.$route.query),!0}},components:{},mounted:function(){var e=this;this.videoStore.setQueryParams(this.query),w||(w=new Promise(function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}})),w.then(function(t){new t.Player("ytPlayer1",e.videoStore.getPlayerConfig())})},created:function(){console.log("created")}}),V=P,k=n("2877"),E=Object(k["a"])(V,r,o,!1,null,"4c371415",null);t["default"]=E.exports}}]);